<!DOCTYPE html>
<html>
    <head>
        <title>Register</title>
        <style>
            body{
                background-color: cadetblue;
            }

            div{
                margin-top: 150px;
                margin-left: 600px;
            }
            label{
                font-size: larger;
            }
            input{
                height: 35px;
                padding: 10px;
            }
        </style>

        <script>
            function submitForm(form){
                var request = new XMLHttpRequest();
                request.open('POST', 'https://zgritn03j0.execute-api.us-east-2.amazonaws.com/prod/register', true);
                request.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');
                request.setRequestHeader('Access-Control-Allow-Origin', '*');

                const username = form.username.value;
                const password = form.password.value;
                const age = form.age.value;
               

                var userDetails = {
                    "username": username,
                    "password": password,
                    "age": age
                }

                userDetails = JSON.stringify(userDetails);
                request.send(userDetails);
                
                request.onreadystatechange = (e) => {
                    console.log(request.responseText);
                }
            }
        </script>

    </head>

    <body>
        <div>
        <form id = "myform" name = "myform" action = "" method = "POST">
            <label for = "username">UserName:</label><br><br>
            <input type = "username" name = "username" id = "username"><br><br>


            <label for = "password">Password:</label><br><br>
            <input type = "password" name = "password" id = "password"><br><br>

            <label for = "age">Age:</label><br><br>
            <input type = "age" name = "age" id = "age"><br><br>

            <input type = "button" onclick = "submitForm(this.form)" value = "Submit">
        </form>
    </div>
    </body>
</html>